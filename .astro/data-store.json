[["Map",1,2,9,10,383,384],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.13.8","content-config-digest","f6123819eadf773a","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://npofsi-blog.vercel.app/\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"always\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":false,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image/\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null,null,null,null,null],\"rehypePlugins\":[null,null,[null,{\"components\":{}}],[null,{\"behavior\":\"append\",\"properties\":{\"className\":[\"anchor\"]},\"content\":{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"anchor-icon\"],\"data-pagefind-ignore\":true},\"children\":[{\"type\":\"text\",\"value\":\"#\"}]}}],[null,{\"themes\":[\"github-dark\",\"github-dark\"],\"plugins\":[{\"name\":\"Collapsible sections\",\"styleSettings\":{\"defaultValues\":{\"collapsibleSections\":{\"closedBorderWidth\":\"0\",\"closedPaddingBlock\":\"4px\",\"closedMargin\":\"0\",\"closedFontFamily\":\"inherit\",\"closedFontSize\":\"inherit\",\"closedLineHeight\":\"inherit\",\"openBorderWidth\":\"1px\",\"openPadding\":\"0\",\"openMargin\":\"0\",\"openBackgroundColor\":\"transparent\",\"openBorderColor\":\"transparent\",\"expandIcon\":\"url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2016%2016'%3E%3Cpath%20d%3D'm8.177.677%202.896%202.896a.25.25%200%200%201-.177.427H8.75v1.25a.75.75%200%200%201-1.5%200V4H5.104a.25.25%200%200%201-.177-.427L7.823.677a.25.25%200%200%201%20.354%200ZM7.25%2010.75a.75.75%200%200%201%201.5%200V12h2.146a.25.25%200%200%201%20.177.427l-2.896%202.896a.25.25%200%200%201-.354%200l-2.896-2.896A.25.25%200%200%201%205.104%2012H7.25v-1.25Zm-5-2a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM6%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%206%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM12%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%2012%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5Z'%2F%3E%3C%2Fsvg%3E\\\")\",\"collapseIcon\":\"url(\\\"data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2016%2016'%3E%3Cpath%20d%3D'M10.896%202H8.75V.75a.75.75%200%200%200-1.5%200V2H5.104a.25.25%200%200%200-.177.427l2.896%202.896a.25.25%200%200%200%20.354%200l2.896-2.896A.25.25%200%200%200%2010.896%202ZM8.75%2015.25a.75.75%200%200%201-1.5%200V14H5.104a.25.25%200%200%201-.177-.427l2.896-2.896a.25.25%200%200%201%20.354%200l2.896%202.896a.25.25%200%200%201-.177.427H8.75v1.25Zm-6.5-6.5a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM6%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%206%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM12%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%2012%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5Z'%2F%3E%3C%2Fsvg%3E\\\")\"}},\"cssVarExclusions\":[],\"cssVarReplacements\":[[\"collapsibleSections\",\"cs\"]],\"preventUnitlessValues\":[\"collapsibleSections.closedBorderWidth\",\"collapsibleSections.openBorderWidth\"]},\"hooks\":{}},{\"name\":\"Line numbers\",\"styleSettings\":{\"defaultValues\":{\"lineNumbers\":{\"foreground\":\"inherit\",\"highlightForeground\":\"inherit\"}},\"cssVarExclusions\":[],\"cssVarReplacements\":[],\"preventUnitlessValues\":[]},\"hooks\":{}},{\"name\":\"Language Badge\"},{\"name\":\"Custom Copy Button\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}],\"defaultProps\":{\"wrap\":true,\"overridesByLang\":{\"shellsession\":{\"showLineNumbers\":false}}},\"styleOverrides\":{\"codeBackground\":\"var(--codeblock-bg)\",\"borderRadius\":\"0.75rem\",\"borderColor\":\"none\",\"codeFontSize\":\"0.875rem\",\"codeFontFamily\":\"'JetBrains Mono Variable', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace\",\"codeLineHeight\":\"1.5rem\",\"frames\":{\"editorBackground\":\"var(--codeblock-bg)\",\"terminalBackground\":\"var(--codeblock-bg)\",\"terminalTitlebarBackground\":\"var(--codeblock-topbar-bg)\",\"editorTabBarBackground\":\"var(--codeblock-topbar-bg)\",\"editorActiveTabBackground\":\"none\",\"editorActiveTabIndicatorBottomColor\":\"var(--primary)\",\"editorActiveTabIndicatorTopColor\":\"none\",\"editorTabBarBorderBottomColor\":\"var(--codeblock-topbar-bg)\",\"terminalTitlebarBorderBottomColor\":\"none\"},\"textMarkers\":{\"delHue\":0,\"insHue\":180,\"markHue\":250}},\"frames\":{\"showCopyToClipboardButton\":false}}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false},\"legacy\":{\"collections\":false}}","posts",["Map",11,12,39,40,64,65,88,89,114,115,139,140,181,182,204,205,256,257,295,296,343,344],"galgame-senrenbanka-review",{"id":11,"data":13,"body":22,"filePath":23,"digest":24,"rendered":25,"legacyId":38},{"title":14,"published":15,"draft":16,"description":17,"image":17,"tags":18,"category":21,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"《千恋 * 万花》",["Date","2020-01-29T13:22:07.000Z"],false,"",[19,20],"Game","Stuff","Routine","前一阵子逛 [终点论坛](https://bbs.zdfx.net/) 的时候发现了这部 [柚子社](https://www.yuzusoft.com/) 的 GAL, 因为原先有人推荐，所以就下下来玩了。丛雨线确实是十分出色 ~~丛雨天下第一~~ ，而且famishin为柚子社这一作的配乐也十分的棒。整部游戏用了半个星期的时间全通完了，最感人的先觉得是芳乃和丛雨。一开始因为初通不能推姊妹线，所以一开始推到了 BE，有点尴尬。总体上这部游戏还是很出色的，也难怪丛雨大人那么受欢迎了（\n\n[《千恋 * 万花》官网](http://www.yuzu-soft.com/products/senren/index.html)\n\nPS：问我为什么去下硬盘版不去下 steam 版？？~~我找不到 NFSW 补丁啊~~","src/content/posts/galgame-senrenbanka-review.md","ba59bc9416c0f098",{"html":26,"metadata":27},"\u003Cp>前一阵子逛 \u003Ca href=\"https://bbs.zdfx.net/\">终点论坛\u003C/a> 的时候发现了这部 \u003Ca href=\"https://www.yuzusoft.com/\">柚子社\u003C/a> 的 GAL, 因为原先有人推荐，所以就下下来玩了。丛雨线确实是十分出色 \u003Cdel>丛雨天下第一\u003C/del> ，而且famishin为柚子社这一作的配乐也十分的棒。整部游戏用了半个星期的时间全通完了，最感人的先觉得是芳乃和丛雨。一开始因为初通不能推姊妹线，所以一开始推到了 BE，有点尴尬。总体上这部游戏还是很出色的，也难怪丛雨大人那么受欢迎了（\u003C/p>\n\u003Cp>\u003Ca href=\"http://www.yuzu-soft.com/products/senren/index.html\">《千恋 * 万花》官网\u003C/a>\u003C/p>\n\u003Cp>PS：问我为什么去下硬盘版不去下 steam 版？？\u003Cdel>我找不到 NFSW 补丁啊\u003C/del>\u003C/p>",{"headings":28,"localImagePaths":29,"remoteImagePaths":30,"frontmatter":31,"imagePaths":37},[],[],[],{"title":14,"published":32,"category":21,"tags":33,"draft":16,"minutes":34,"words":35,"excerpt":36},["Date","2020-01-29T13:22:07.000Z"],[19,20],1,184,"前一阵子逛 终点论坛 的时候发现了这部 柚子社 的 GAL, 因为原先有人推荐，所以就下下来玩了。丛雨线确实是十分出色 丛雨天下第一 ，而且famishin为柚子社这一作的配乐也十分的棒。整部游戏用了半个星期的时间全通完了，最感人的先觉得是芳乃和丛雨。一开始因为初通不能推姊妹线，所以一开始推到了 BE，有点尴尬。总体上这部游戏还是很出色的，也难怪丛雨大人那么受欢迎了（",[],"galgame-senrenbanka-review.md","gaokao-in-100-days-2019",{"id":39,"data":41,"body":47,"filePath":48,"digest":49,"rendered":50,"legacyId":63},{"title":42,"published":43,"draft":16,"description":17,"image":17,"tags":44,"category":21,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"距高考那 一百天",["Date","2020-02-26T03:31:56.000Z"],[45,46],"高考","目标","距离高考还有一百天了，有点不舍，两年半来的生活好像箭一般的飞过，只不过是三个月，就算对不起什么，也不能让高中的时光过得没有任何意义。~~一个月前还在推 gal 的人不要说话~~\n\n\u003C!-- more -->\n\n不论是为了百日之后，还是为了四年之后，我想应该去尝试一下了。也曾有的时候会迷茫，失去目标，但当我每每落下笔，每每拿起一本书，我就能想起，不论是自由，还是责任，只要至少其一存在，就应该去努力。\n\n> 正是因为认真，所以才无法隐藏或逃避内心的悔恨和惋惜。只有放手去做，才能抹平心中的悔恨和惋惜，就算再失败，再失败，也只能去做。\n\n也得克服一下自己的**拖延症**了，确实是经常把小事安排在前面导致后面工作量大的事一拖再拖。据说先做工作量大的工作就不容易拖延，~~那怕不是连小事也做不完了（误）~~，希望这能起作用。\n\n\n顺便这里也列一下高考完想做的事吧\n\n- 去哪里游览一次，非常想去荷兰看看，那里也有我想考研去的学校w\n- 学习一下 Verilog 等硬件描述语言\n- 把几个开了的 Android 应用完结掉，试试开发 PC 端的软件\n- 本来兴趣就在物理的，毕业以后要把《力学概论》读完，顺便看一下电气相关的书\n- 2020 年有好多的番，电影，音乐 ，想买鹿乃的专辑\n\n这些天里要下下辛苦呢，**否则时间就这样过去也是一种浪费啊(๑•﹏•)。**","src/content/posts/gaokao-in-100-days-2019.md","fd781785a3cabff5",{"html":51,"metadata":52},"\u003Cp>距离高考还有一百天了，有点不舍，两年半来的生活好像箭一般的飞过，只不过是三个月，就算对不起什么，也不能让高中的时光过得没有任何意义。\u003Cdel>一个月前还在推 gal 的人不要说话\u003C/del>\u003C/p>\n\u003C!-- more -->\n\u003Cp>不论是为了百日之后，还是为了四年之后，我想应该去尝试一下了。也曾有的时候会迷茫，失去目标，但当我每每落下笔，每每拿起一本书，我就能想起，不论是自由，还是责任，只要至少其一存在，就应该去努力。\u003C/p>\n\u003Cblockquote>\n\u003Cp>正是因为认真，所以才无法隐藏或逃避内心的悔恨和惋惜。只有放手去做，才能抹平心中的悔恨和惋惜，就算再失败，再失败，也只能去做。\u003C/p>\n\u003C/blockquote>\n\u003Cp>也得克服一下自己的\u003Cstrong>拖延症\u003C/strong>了，确实是经常把小事安排在前面导致后面工作量大的事一拖再拖。据说先做工作量大的工作就不容易拖延，\u003Cdel>那怕不是连小事也做不完了（误）\u003C/del>，希望这能起作用。\u003C/p>\n\u003Cp>顺便这里也列一下高考完想做的事吧\u003C/p>\n\u003Cul>\n\u003Cli>去哪里游览一次，非常想去荷兰看看，那里也有我想考研去的学校w\u003C/li>\n\u003Cli>学习一下 Verilog 等硬件描述语言\u003C/li>\n\u003Cli>把几个开了的 Android 应用完结掉，试试开发 PC 端的软件\u003C/li>\n\u003Cli>本来兴趣就在物理的，毕业以后要把《力学概论》读完，顺便看一下电气相关的书\u003C/li>\n\u003Cli>2020 年有好多的番，电影，音乐 ，想买鹿乃的专辑\u003C/li>\n\u003C/ul>\n\u003Cp>这些天里要下下辛苦呢，\u003Cstrong>否则时间就这样过去也是一种浪费啊(๑•﹏•)。\u003C/strong>\u003C/p>",{"headings":53,"localImagePaths":54,"remoteImagePaths":55,"frontmatter":56,"imagePaths":62},[],[],[],{"title":42,"published":57,"category":21,"tags":58,"draft":16,"minutes":59,"words":60,"excerpt":61},["Date","2020-02-26T03:31:56.000Z"],[45,46],2,445,"距离高考还有一百天了，有点不舍，两年半来的生活好像箭一般的飞过，只不过是三个月，就算对不起什么，也不能让高中的时光过得没有任何意义。一个月前还在推 gal 的人不要说话",[],"gaokao-in-100-days-2019.md","move-blog-to-github",{"id":64,"data":66,"body":72,"filePath":73,"digest":74,"rendered":75,"legacyId":87},{"title":67,"published":68,"draft":16,"description":17,"image":17,"tags":69,"category":71,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"博客转移Github并使用Ci集成",["Date","2018-07-30T01:47:21.000Z"],[70],"Code","Notify","用了一上午的时间用Travis-CI和Github实现了博客持续集成。\n\n实现方法见: ~~[nfz的博客](https://blog.nfz.moe/archives/hexo-auto-deploy-with-travis-ci.html)~~(已失效)","src/content/posts/move-blog-to-github.md","e1c78c3ab6387bdf",{"html":76,"metadata":77},"\u003Cp>用了一上午的时间用Travis-CI和Github实现了博客持续集成。\u003C/p>\n\u003Cp>实现方法见: \u003Cdel>\u003Ca href=\"https://blog.nfz.moe/archives/hexo-auto-deploy-with-travis-ci.html\">nfz的博客\u003C/a>\u003C/del>(已失效)\u003C/p>",{"headings":78,"localImagePaths":79,"remoteImagePaths":80,"frontmatter":81,"imagePaths":86},[],[],[],{"title":67,"published":82,"category":71,"tags":83,"draft":16,"minutes":34,"words":84,"excerpt":85},["Date","2018-07-30T01:47:21.000Z"],[70],33,"用了一上午的时间用Travis-CI和Github实现了博客持续集成。",[],"move-blog-to-github.md","research-mac-address",{"id":88,"data":90,"body":98,"filePath":99,"digest":100,"rendered":101,"legacyId":113},{"title":91,"published":92,"draft":16,"description":93,"image":17,"tags":94,"category":97,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"查询 MAC 地址",["Date","2018-05-17T04:57:28.000Z"],"使用 OUI 查询 MAC 地址",[95,70,96],"Network","Standard","Tip","MAC 是 IEEE 规定的国际网卡标识号码，只有获得 MAC 地址字段的厂家才可以生产网卡。\n这个字段是公开的（即号码的前六位）储存在一个 oui.txt 文件里， IEEE 内部是用 PHP 解析的，这个文件标注了字段所属公司的名称，地址等信息.如果需要可以访问：\n\t[oui.txt](http://standards-oui.ieee.org/oui/oui.txt)","src/content/posts/research-mac-address.md","cd2ea9c722db54a4",{"html":102,"metadata":103},"\u003Cp>MAC 是 IEEE 规定的国际网卡标识号码，只有获得 MAC 地址字段的厂家才可以生产网卡。\n这个字段是公开的（即号码的前六位）储存在一个 oui.txt 文件里， IEEE 内部是用 PHP 解析的，这个文件标注了字段所属公司的名称，地址等信息.如果需要可以访问：\n\u003Ca href=\"http://standards-oui.ieee.org/oui/oui.txt\">oui.txt\u003C/a>\u003C/p>",{"headings":104,"localImagePaths":105,"remoteImagePaths":106,"frontmatter":107,"imagePaths":112},[],[],[],{"title":91,"published":108,"description":93,"category":97,"tags":109,"draft":16,"minutes":34,"words":110,"excerpt":111},["Date","2018-05-17T04:57:28.000Z"],[95,70,96],96,"MAC 是 IEEE 规定的国际网卡标识号码，只有获得 MAC 地址字段的厂家才可以生产网卡。\n这个字段是公开的（即号码的前六位）储存在一个 oui.txt 文件里， IEEE 内部是用 PHP 解析的，这个文件标注了字段所属公司的名称，地址等信息.如果需要可以访问：\noui.txt",[],"research-mac-address.md","cpp-int-to-string",{"id":114,"data":116,"body":123,"filePath":124,"digest":125,"rendered":126,"legacyId":138},{"title":117,"published":118,"draft":16,"description":17,"image":17,"tags":119,"category":97,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"C++ 将数字转换成字符串",["Date","2018-09-09T07:23:21.000Z"],[120,121,122,70],"C++","NOIp","随笔","~~今天碰到一个需要高效的将数字转换成字符串并连接起来的题，本来想用 `+'0'` 的办法 但这样效率实在不高，而我想知道有没有更简便的办法同时做到这两个工作，我就想 cpp 的流是不是能为我所用。果然，我找到了 `\u003Csstream>` 这个头，其中的 `stringstream` 正合我意。于是就有了以下的转换操作：~~\n```C++\nstringstream sst ;\nfor(...) sst\u003C\u003Ci ;\nstring str = sst.str() ;\n```\n\n意识到实际上 `sscanf(...)` 就行了","src/content/posts/cpp-int-to-string.md","540fea39dda09e70",{"html":127,"metadata":128},"\u003Cp>\u003Cdel>今天碰到一个需要高效的将数字转换成字符串并连接起来的题，本来想用 \u003Ccode>+'0'\u003C/code> 的办法 但这样效率实在不高，而我想知道有没有更简便的办法同时做到这两个工作，我就想 cpp 的流是不是能为我所用。果然，我找到了 \u003Ccode>&#x3C;sstream>\u003C/code> 这个头，其中的 \u003Ccode>stringstream\u003C/code> 正合我意。于是就有了以下的转换操作：\u003C/del>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"C++\" class=\"wrap\" style=\"--ecMaxLine:24ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">stringstream sst ;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">for(...) sst&#x3C;&#x3C;i ;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">string str = sst.str() ;\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\n\u003Cp>意识到实际上 \u003Ccode>sscanf(...)\u003C/code> 就行了\u003C/p>",{"headings":129,"localImagePaths":130,"remoteImagePaths":131,"frontmatter":132,"imagePaths":137},[],[],[],{"title":117,"published":133,"category":97,"tags":134,"draft":16,"minutes":34,"words":135,"excerpt":136},["Date","2018-09-09T07:23:21.000Z"],[120,121,122,70],132,"今天碰到一个需要高效的将数字转换成字符串并连接起来的题，本来想用 +'0' 的办法 但这样效率实在不高，而我想知道有没有更简便的办法同时做到这两个工作，我就想 cpp 的流是不是能为我所用。果然，我找到了 \u003Csstream> 这个头，其中的 stringstream 正合我意。于是就有了以下的转换操作：",[],"cpp-int-to-string.md","noip-tg-2018-summary",{"id":139,"data":141,"body":145,"filePath":146,"digest":147,"rendered":148,"legacyId":180},{"title":142,"published":143,"draft":16,"description":17,"image":17,"tags":144,"category":21,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"NOIp 2018 复赛总结",["Date","2018-11-15T11:49:18.000Z"],[121,120,122,70],"在这个星期日，经历了长达两天的 NOIp 复试，是时候做个总结了( ；∀；) （ tcl ）\u003Cdel>( 好像 www.noi.cn 出了点问题）\u003C/del>\n\n\u003C!-- more -->\n\n只有第一天前两道题能确切的拿到分啊 / 第二天的题完全没有希望：：=\n\n而且考完 NOIp 就期中考试真的没关系？\n\n总感觉自己好弱，（ dalao 们求罩了）\n\n现在还是正经点说一下我做出来的部分qwq\n\n##### DAY1 T1 修路\n\n\n我的思路和 luogu 的题解有些不同。\n- 我定义了区间数组 ` int arr[100002];`\n- 然后用这个数组储存了整条路（区间）。\n- 写一个函数 `check()` 判断 `arr[1]~arr[n]` 是否全为零（已填平）。\n- 写一个函数 `fill()` 从 `arr[1]` 开始向后寻找连续的不为零的区段，并找出最浅的地方，并把每个地方的深度修改为 `当前深度 - 最浅深度` （把该地向上填） 并使答案增加最浅的深度（一天填一层所以 “天数 = 深度” ）\n- 因为保证初始区间全不为零，所以使用 do-while ：\n```\ndo{\n  fill();\n}while(check());\n```\n\n并没有彻底模拟每一天填的状况。\n\n> 这个算法的算法复杂度在 O(n^2) 到 O(n).\n> 具体取决于输入数据，如果是金字塔形的就会被逼到 O(n^2) 如果是崎岖不平的而差别不太大的数据 复杂度就接近 O(n)\n\n\n##### DAY1 T2 [货币系统](https://www.luogu.com.cn/problem/P5020)\n\n\n一开始自己感觉没有思路，不过回想了一下学过的知识发现这道题就是一个很常规的筛法，如果用 dfs 的话第二个样例就吃不消了， ~~尝试写了一下 dp 还是太菜就放弃了~~ ，最后用 dfs 只拿了60分。\n\n\n##### DAY1 T3 [赛道修建](https://www.luogu.org/problem/P5021)\n\n\n这道题有点思路，想到了二分，但是不会写啊，时间也很紧，然后就丢了（哭）。\n\n\n##### DAY2 T1 旅行\n\n\n这道题看了一会儿就知道要干什么了，匆匆忙忙开始写。结果写完一后只过了一个样例，另一个样例完全不符，十分头疼。半个小时也没想出来是为什么。\n\n考完后来去看别人题解，原来是要枚举边，而我枚举的是点。\n\n估计是出题人好心，测试数据中有两个是枚举点也能过得，最后拿了 20 分。\n\n\n##### DAY2 T2 填数游戏\n\n\n这道题一开始拿来还是很自信的，毕竟是规律题，做不出来还可以猜，结果我琢磨了半个小时也没琢磨明白，去猜的过程中手算也算不了几个数据，只能发现两条边上的结果是  2\u003Csup>n\u003C/sup> ，就只写了这么多，最后拿了 15 分虽然有些不甘心，但是总比扔掉要强。\n\n\n##### DAY2 T3 保卫王国\n\n\n这道题看完题我觉得是要用 dp 就写，接着发现是动态 dp 就瞬间放弃，我 dp 本来就不熟练，加点东西就更废了，时间也不够了，这道题也只好扔掉了。","src/content/posts/noip-tg-2018-summary.md","e7dce5e039b9a688",{"html":149,"metadata":150},"\u003Cp>在这个星期日，经历了长达两天的 NOIp 复试，是时候做个总结了( ；∀；) （ tcl ）\u003Cdel>( 好像 \u003Ca href=\"http://www.noi.cn\">www.noi.cn\u003C/a> 出了点问题）\u003C/del>\u003C/p>\n\u003C!-- more -->\n\u003Cp>只有第一天前两道题能确切的拿到分啊 / 第二天的题完全没有希望：：=\u003C/p>\n\u003Cp>而且考完 NOIp 就期中考试真的没关系？\u003C/p>\n\u003Cp>总感觉自己好弱，（ dalao 们求罩了）\u003C/p>\n\u003Cp>现在还是正经点说一下我做出来的部分qwq\u003C/p>\n\u003Csection>\u003Ch5 id=\"day1-t1-修路\">DAY1 T1 修路\u003Ca class=\"anchor\" href=\"#day1-t1-修路\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>我的思路和 luogu 的题解有些不同。\u003C/p>\u003Cul>\n\u003Cli>我定义了区间数组 \u003Ccode> int arr[100002];\u003C/code>\u003C/li>\n\u003Cli>然后用这个数组储存了整条路（区间）。\u003C/li>\n\u003Cli>写一个函数 \u003Ccode>check()\u003C/code> 判断 \u003Ccode>arr[1]~arr[n]\u003C/code> 是否全为零（已填平）。\u003C/li>\n\u003Cli>写一个函数 \u003Ccode>fill()\u003C/code> 从 \u003Ccode>arr[1]\u003C/code> 开始向后寻找连续的不为零的区段，并找出最浅的地方，并把每个地方的深度修改为 \u003Ccode>当前深度 - 最浅深度\u003C/code> （把该地向上填） 并使答案增加最浅的深度（一天填一层所以 “天数 = 深度” ）\u003C/li>\n\u003Cli>因为保证初始区间全不为零，所以使用 do-while ：\u003C/li>\n\u003C/ul>\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:16ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">do{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">fill();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">}while(check());\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>并没有彻底模拟每一天填的状况。\u003C/p>\u003Cblockquote>\n\u003Cp>这个算法的算法复杂度在 O(n^2) 到 O(n).\n具体取决于输入数据，如果是金字塔形的就会被逼到 O(n^2) 如果是崎岖不平的而差别不太大的数据 复杂度就接近 O(n)\u003C/p>\n\u003C/blockquote>\u003C/section>\n\u003Csection>\u003Ch5 id=\"day1-t2-货币系统\">DAY1 T2 \u003Ca href=\"https://www.luogu.com.cn/problem/P5020\">货币系统\u003C/a>\u003Ca class=\"anchor\" href=\"#day1-t2-货币系统\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>一开始自己感觉没有思路，不过回想了一下学过的知识发现这道题就是一个很常规的筛法，如果用 dfs 的话第二个样例就吃不消了， \u003Cdel>尝试写了一下 dp 还是太菜就放弃了\u003C/del> ，最后用 dfs 只拿了60分。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch5 id=\"day1-t3-赛道修建\">DAY1 T3 \u003Ca href=\"https://www.luogu.org/problem/P5021\">赛道修建\u003C/a>\u003Ca class=\"anchor\" href=\"#day1-t3-赛道修建\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>这道题有点思路，想到了二分，但是不会写啊，时间也很紧，然后就丢了（哭）。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch5 id=\"day2-t1-旅行\">DAY2 T1 旅行\u003Ca class=\"anchor\" href=\"#day2-t1-旅行\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>这道题看了一会儿就知道要干什么了，匆匆忙忙开始写。结果写完一后只过了一个样例，另一个样例完全不符，十分头疼。半个小时也没想出来是为什么。\u003C/p>\u003Cp>考完后来去看别人题解，原来是要枚举边，而我枚举的是点。\u003C/p>\u003Cp>估计是出题人好心，测试数据中有两个是枚举点也能过得，最后拿了 20 分。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch5 id=\"day2-t2-填数游戏\">DAY2 T2 填数游戏\u003Ca class=\"anchor\" href=\"#day2-t2-填数游戏\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>这道题一开始拿来还是很自信的，毕竟是规律题，做不出来还可以猜，结果我琢磨了半个小时也没琢磨明白，去猜的过程中手算也算不了几个数据，只能发现两条边上的结果是  2\u003Csup>n\u003C/sup> ，就只写了这么多，最后拿了 15 分虽然有些不甘心，但是总比扔掉要强。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch5 id=\"day2-t3-保卫王国\">DAY2 T3 保卫王国\u003Ca class=\"anchor\" href=\"#day2-t3-保卫王国\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>这道题看完题我觉得是要用 dp 就写，接着发现是动态 dp 就瞬间放弃，我 dp 本来就不熟练，加点东西就更废了，时间也不够了，这道题也只好扔掉了。\u003C/p>\u003C/section>",{"headings":151,"localImagePaths":171,"remoteImagePaths":172,"frontmatter":173,"imagePaths":179},[152,156,159,162,165,168],{"depth":153,"slug":154,"text":155},5,"day1-t1-修路","DAY1 T1 修路#",{"depth":153,"slug":157,"text":158},"day1-t2-货币系统","DAY1 T2 货币系统#",{"depth":153,"slug":160,"text":161},"day1-t3-赛道修建","DAY1 T3 赛道修建#",{"depth":153,"slug":163,"text":164},"day2-t1-旅行","DAY2 T1 旅行#",{"depth":153,"slug":166,"text":167},"day2-t2-填数游戏","DAY2 T2 填数游戏#",{"depth":153,"slug":169,"text":170},"day2-t3-保卫王国","DAY2 T3 保卫王国#",[],[],{"title":142,"published":174,"category":21,"tags":175,"draft":16,"minutes":176,"words":177,"excerpt":178},["Date","2018-11-15T11:49:18.000Z"],[121,120,122,70],4,759,"在这个星期日，经历了长达两天的 NOIp 复试，是时候做个总结了( ；∀；) （ tcl ）\u003Cdel>( 好像 www.noi.cn 出了点问题）\u003C/del>",[],"noip-tg-2018-summary.md","android-contentresolver-more",{"id":181,"data":183,"body":188,"filePath":189,"digest":190,"rendered":191,"legacyId":203},{"title":184,"published":185,"draft":16,"description":17,"image":17,"tags":186,"category":97,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"Android ContentProvider 使用小计",["Date","2020-03-14T11:34:50.000Z"],[187,70],"Android","Android 应用在选取文件时推荐使用 `Intent.ACTION_GET_CONTENT` 意图，而不是使用应用自己创建的文件选择器并获取读取文件权限。\n\n因为从 Android Marshmallow 开始 Android 权限管理开始变得更加整顿严谨，几个版本以来 Android 解决了权限管理松散的问题。\n\n其实 `ContentProvider` 并不是什么新事物，在 Android 中一直存在着，但随着权限的明确划分，权限的索取要更加的明确，否则会极大的影响用户体验，这时使用系统给予的机制会更加符合操作逻辑，也可以减少工作量。\n\n\u003C!-- more -->\n\n下面是一个选取文件的简单使用场景\n\n```java\n//需要指定一个 int 来定位返回值\nfinal int REQUEST_GET_CONTENT=1\n\n//调用系统文件选择器\npublic void getContent() {\n\tIntent intent = new Intent(Intent.ACTION_GET_CONTENT);\n\tintent.setType(\"*/*\");\n\tintent.addCategory(Intent.CATEGORY_OPENABLE);\n\tstartActivityForResult(intent, REQUEST_GET_CONTENT);\n}\n```\n\n```java\n//接受 URI\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\tsuper.onActivityResult(requestCode, resultCode, data);\n\tif (resultCode == RESULT_OK) {\n\t\tswitch (requestCode) {\n\t\t\tcase REQUEST_GET_CONTENT:\n\t\t\t\tUri uri=data.getData();\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n```\n\n之后要读取这个文件的内容只需要调用 `getContentResolver().openInputStream(uri)` 就可以了\n\n但是！\n\n这里有个问题\n\n这样得不到文件的名字\n\n直到我在 Android 文档里翻了又翻翻了又翻翻了又翻————官方还是很良心的，只是忘了用一下搜索功能。。。。\n\n```java\npublic String getContentName(Uri uri) {\n\tString result = null;\n\tif (uri.getScheme().equals(\"content\")) {\n\t\tCursor cursor = this.getContentResolver().query(uri, null, null, null, null);\n\t\ttry {\n\t\t\tif (cursor != null && cursor.moveToFirst()) {\n\t\t\t\tresult = cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME));\n\t\t\t}\n\t\t} finally {\n\t\t\tcursor.close();\n\t\t}\n\t}\n\tif (result == null) {\n\t\tresult = uri.getPath();\n\t\tint cut = result.lastIndexOf('/');\n\t\tif (cut != -1) {\n\t\t\tresult = result.substring(cut + 1);\n\t\t}\n\t}\n\treturn result;\n}\n\n```\n\n文档里直接把这个函数给出来了，就直接拿来放心用就好了\n\n后来搜索相关的东西的时候在 stackoverflow 也发现了这个话题，回答是一样的。\n\n这些基本就是选取文件完全方法了，虽然很水，不过写出来就不容易忘了吧\n\n以上","src/content/posts/android-contentresolver-more.md","b126cabd5fd8195c",{"html":192,"metadata":193},"\u003Cp>Android 应用在选取文件时推荐使用 \u003Ccode>Intent.ACTION_GET_CONTENT\u003C/code> 意图，而不是使用应用自己创建的文件选择器并获取读取文件权限。\u003C/p>\n\u003Cp>因为从 Android Marshmallow 开始 Android 权限管理开始变得更加整顿严谨，几个版本以来 Android 解决了权限管理松散的问题。\u003C/p>\n\u003Cp>其实 \u003Ccode>ContentProvider\u003C/code> 并不是什么新事物，在 Android 中一直存在着，但随着权限的明确划分，权限的索取要更加的明确，否则会极大的影响用户体验，这时使用系统给予的机制会更加符合操作逻辑，也可以减少工作量。\u003C/p>\n\u003C!-- more -->\n\u003Cp>下面是一个选取文件的简单使用场景\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"java\" class=\"wrap\" style=\"--ecMaxLine:56ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">//需要指定一个 int 来定位返回值\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">final\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">int\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> REQUEST_GET_CONTENT\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">//调用系统文件选择器\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">public\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">void\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getContent\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">() {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">Intent intent \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">new\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">Intent\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(Intent.ACTION_GET_CONTENT);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">intent.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">setType\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">\"*/*\"\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">intent.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">addCategory\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(Intent.CATEGORY_OPENABLE);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">startActivityForResult\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(intent, REQUEST_GET_CONTENT);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"java\" class=\"wrap\" style=\"--ecMaxLine:79ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">//接受 URI\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">@\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">Override\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">protected\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">void\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">onActivityResult\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">int\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> requestCode, \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">int\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> resultCode, Intent data) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">super\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">onActivityResult\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(requestCode, resultCode, data);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">if\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (resultCode \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">==\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> RESULT_OK) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">switch\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (requestCode) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:6ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">case\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> REQUEST_GET_CONTENT\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:8ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">Uri uri\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">data.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getData\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:8ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">break\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">11\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">12\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\n\u003Cp>之后要读取这个文件的内容只需要调用 \u003Ccode>getContentResolver().openInputStream(uri)\u003C/code> 就可以了\u003C/p>\n\u003Cp>但是！\u003C/p>\n\u003Cp>这里有个问题\u003C/p>\n\u003Cp>这样得不到文件的名字\u003C/p>\n\u003Cp>直到我在 Android 文档里翻了又翻翻了又翻翻了又翻————官方还是很良心的，只是忘了用一下搜索功能。。。。\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"java\" class=\"wrap\" style=\"--ecMaxLine:87ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">public\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> String \u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getContentName\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(Uri uri) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">String result \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">if\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (uri.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getScheme\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">().\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">equals\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">\"content\"\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">Cursor cursor \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">this\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getContentResolver\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">().\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">query\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(uri, \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">, \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">, \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">, \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">try\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:6ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">if\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (cursor \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">!=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">&#x26;&#x26;\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> cursor.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">moveToFirst\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">()) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:8ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">result \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> cursor.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getString\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(cursor.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getColumnIndex\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(OpenableColumns.DISPLAY_NAME));\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:6ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">} \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">finally\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:6ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">cursor.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">close\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">11\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">12\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">13\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">if\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (result \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">==\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">null\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">14\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">result \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> uri.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">getPath\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">15\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">int\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> cut \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> result.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">lastIndexOf\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'/'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">16\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">if\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (cut \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">!=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">-\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">1\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:6ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">17\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">result \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> result.\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">substring\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(cut \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">+\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">1\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">18\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">19\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:2ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">20\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">return\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> result;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">21\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\n\u003Cp>文档里直接把这个函数给出来了，就直接拿来放心用就好了\u003C/p>\n\u003Cp>后来搜索相关的东西的时候在 stackoverflow 也发现了这个话题，回答是一样的。\u003C/p>\n\u003Cp>这些基本就是选取文件完全方法了，虽然很水，不过写出来就不容易忘了吧\u003C/p>\n\u003Cp>以上\u003C/p>",{"headings":194,"localImagePaths":195,"remoteImagePaths":196,"frontmatter":197,"imagePaths":202},[],[],[],{"title":184,"published":198,"tags":199,"category":97,"draft":16,"minutes":59,"words":200,"excerpt":201},["Date","2020-03-14T11:34:50.000Z"],[187,70],485,"Android 应用在选取文件时推荐使用 Intent.ACTION_GET_CONTENT 意图，而不是使用应用自己创建的文件选择器并获取读取文件权限。",[],"android-contentresolver-more.md","cmake-learning-01",{"id":204,"data":206,"body":212,"filePath":213,"digest":214,"rendered":215,"legacyId":255},{"title":207,"published":208,"draft":16,"description":17,"image":17,"tags":209,"category":211,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"CMake 学习小结",["Date","2020-07-12T09:47:28.000Z"],[210,70],"C/C++","Summary","高考完这段时间点子大概比较多？既然学了两年的信息学奥赛写了两年 C++ ，却根本不会用 C++ 去做开发，这次正好想做的一个东西对性能要求比较高，就考虑用 C++ 来做，又因为原来一直用的 Java 导致我比较关注多平台的兼容，就想趁机学习一下 CMake 这类通用构建工具。这篇文章会列举一下我学到的 CMake 常用的命令，做一个小结。\n\n如果想要学习 CMake ，非常推荐 [CMake 官方提供的教程](https://cmake.org/cmake/help/latest/guide/tutorial/index.html) ，跟下来的话 CMake 基本就可以掌握了。\n\n\u003C!-- more -->\n\n##### 基本信息\n\n这些就是些必填的东西\n\n```cmake\ncmake_minimum_required (VERSION 3.8)\n\nproject (\u003CPROJECT_NAME>)\n\n```\n\n##### 子目录\n\n用来标记该项目要使用到（存在 CMakeLists.txt）的子目录，\u003Cdel>致使 CMakeLists.txt 比 源代码 还多的原罪啊\u003C/del>\n\n```cmake\nadd_subdirectory(\u003CPATH>)\n```\n\n##### 编译可执行文件\n\n将标记的源代码文件编译成可执行文件\n\n```cmake\nadd_executable(\u003CEXEC_FILE_NAME> \u003CSOURCE_CODE_FILE。..>)\n```\n\n##### 编译库文件\n\n将标记的源代码文件编译成为链接库文件\n\n```cmake\nadd_library(\u003CLIB_FILE_NAME> \u003CSOURCE_CODE_FILE。..>)\n```\n\n##### 安装\n\n关于 install 的用法极多，具体还是查阅手册比较好 在我项目里用来引入 Duktape 库 `install(TARGETS duktape DESTINATION lib)`\n\n```cmake\ninstall(...)\n```\n\n##### 预编译库的引入\n\n一个 `EXEC_FILE_NAME` 或 `EXEC_FILE_NAME` 可作为 `TARGET_NAME` ，本质上是将该预编译库链接在 obj 文件中，**这也就是说需要先存在一个 `EXEC_FILE_NAME` 或 `EXEC_FILE_NAME`，请保证调用此命令前调用过相应的 `add_executable` 或 `add_library`，否则会报 ` Cannot specify include directories when use target target_include_directories` 错误**\n\n```cmake\ntarget_link_libraries(\u003CTARGET_NAME> \u003CPUBLIC|SHARED|PRIVATE> \u003CLIB_NAME>)\n```\n\n##### 头文件目录的引入\n\n经常要用的，我的项目中是用了很多 stb 项目的头文件 `target_include_directories(${PROJECT_NAME} PUBLIC stb)`，**`TARGET_NAME` 的要求同上**\n\n```cmake\ntarget_include_directories(\u003CTARGET_NAME> \u003CPUBLIC|SHARED|PRIVATE> \u003CDIR_NAME>)\n```\n\n##### 获取文件夹下所有源文件\n\n将根目录下所有文件文件名转储到一个变量里，在添加可执行文件时的例子： `add_executable (${PROJECT_NAME} ${\u003CVARIABLE_NAME>})\"`\n\n```cmake\naux_source_directory(. \u003CVARIABLE_NAME>)\n```\n\n##### 生成 Config 文件\n\n在编译时生成 config 文件以便在不同要求，不同操作系统下编译或输出文件\n\n```cmake\nconfigure_file(Config.h.in Config.h)\n```","src/content/posts/cmake-learning-01.md","bf924f0a52003ac8",{"html":216,"metadata":217},"\u003Cp>高考完这段时间点子大概比较多？既然学了两年的信息学奥赛写了两年 C++ ，却根本不会用 C++ 去做开发，这次正好想做的一个东西对性能要求比较高，就考虑用 C++ 来做，又因为原来一直用的 Java 导致我比较关注多平台的兼容，就想趁机学习一下 CMake 这类通用构建工具。这篇文章会列举一下我学到的 CMake 常用的命令，做一个小结。\u003C/p>\n\u003Cp>如果想要学习 CMake ，非常推荐 \u003Ca href=\"https://cmake.org/cmake/help/latest/guide/tutorial/index.html\">CMake 官方提供的教程\u003C/a> ，跟下来的话 CMake 基本就可以掌握了。\u003C/p>\n\u003C!-- more -->\n\u003Csection>\u003Ch5 id=\"基本信息\">基本信息\u003Ca class=\"anchor\" href=\"#基本信息\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>这些就是些必填的东西\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:36ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">cmake_minimum_required\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">VERSION\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> 3.8)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">project\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> (&#x3C;\u003C/span>\u003Cspan style=\"--0:#FFAB70;--1:#FFAB70\">PROJECT_NAME\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"子目录\">子目录\u003Ca class=\"anchor\" href=\"#子目录\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>用来标记该项目要使用到（存在 CMakeLists.txt）的子目录，\u003Cdel>致使 CMakeLists.txt 比 源代码 还多的原罪啊\u003C/del>\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:24ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">add_subdirectory\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(&#x3C;\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">PATH\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"编译可执行文件\">编译可执行文件\u003Ca class=\"anchor\" href=\"#编译可执行文件\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>将标记的源代码文件编译成可执行文件\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:54ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">add_executable\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(&#x3C;EXEC_FILE_NAME> &#x3C;SOURCE_CODE_FILE。..>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"编译库文件\">编译库文件\u003Ca class=\"anchor\" href=\"#编译库文件\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>将标记的源代码文件编译成为链接库文件\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:50ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">add_library\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(&#x3C;LIB_FILE_NAME> &#x3C;SOURCE_CODE_FILE。..>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"安装\">安装\u003Ca class=\"anchor\" href=\"#安装\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>关于 install 的用法极多，具体还是查阅手册比较好 在我项目里用来引入 Duktape 库 \u003Ccode>install(TARGETS duktape DESTINATION lib)\u003C/code>\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:12ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">install\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(...)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"预编译库的引入\">预编译库的引入\u003Ca class=\"anchor\" href=\"#预编译库的引入\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>一个 \u003Ccode>EXEC_FILE_NAME\u003C/code> 或 \u003Ccode>EXEC_FILE_NAME\u003C/code> 可作为 \u003Ccode>TARGET_NAME\u003C/code> ，本质上是将该预编译库链接在 obj 文件中，\u003Cstrong>这也就是说需要先存在一个 \u003Ccode>EXEC_FILE_NAME\u003C/code> 或 \u003Ccode>EXEC_FILE_NAME\u003C/code>，请保证调用此命令前调用过相应的 \u003Ccode>add_executable\u003C/code> 或 \u003Ccode>add_library\u003C/code>，否则会报 \u003Ccode> Cannot specify include directories when use target target_include_directories\u003C/code> 错误\u003C/strong>\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:71ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">target_link_libraries\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(&#x3C;TARGET_NAME> &#x3C;\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PUBLIC\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">|SHARED|\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PRIVATE\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> &#x3C;LIB_NAME>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"头文件目录的引入\">头文件目录的引入\u003Ca class=\"anchor\" href=\"#头文件目录的引入\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>经常要用的，我的项目中是用了很多 stb 项目的头文件 \u003Ccode>target_include_directories(${PROJECT_NAME} PUBLIC stb)\u003C/code>，\u003Cstrong>\u003Ccode>TARGET_NAME\u003C/code> 的要求同上\u003C/strong>\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:76ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">target_include_directories\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(&#x3C;TARGET_NAME> &#x3C;\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PUBLIC\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">|SHARED|\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PRIVATE\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> &#x3C;DIR_NAME>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"获取文件夹下所有源文件\">获取文件夹下所有源文件\u003Ca class=\"anchor\" href=\"#获取文件夹下所有源文件\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>将根目录下所有文件文件名转储到一个变量里，在添加可执行文件时的例子： \u003Ccode>add_executable (${PROJECT_NAME} ${&#x3C;VARIABLE_NAME>})\"\u003C/code>\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:39ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">aux_source_directory\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(. &#x3C;VARIABLE_NAME>)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch5 id=\"生成-config-文件\">生成 Config 文件\u003Ca class=\"anchor\" href=\"#生成-config-文件\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h5>\u003Cp>在编译时生成 config 文件以便在不同要求，不同操作系统下编译或输出文件\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"cmake\" class=\"wrap\" style=\"--ecMaxLine:36ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">configure_file\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(Config.h.in Config.h)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>",{"headings":218,"localImagePaths":246,"remoteImagePaths":247,"frontmatter":248,"imagePaths":254},[219,222,225,228,231,234,237,240,243],{"depth":153,"slug":220,"text":221},"基本信息","基本信息#",{"depth":153,"slug":223,"text":224},"子目录","子目录#",{"depth":153,"slug":226,"text":227},"编译可执行文件","编译可执行文件#",{"depth":153,"slug":229,"text":230},"编译库文件","编译库文件#",{"depth":153,"slug":232,"text":233},"安装","安装#",{"depth":153,"slug":235,"text":236},"预编译库的引入","预编译库的引入#",{"depth":153,"slug":238,"text":239},"头文件目录的引入","头文件目录的引入#",{"depth":153,"slug":241,"text":242},"获取文件夹下所有源文件","获取文件夹下所有源文件#",{"depth":153,"slug":244,"text":245},"生成-config-文件","生成 Config 文件#",[],[],{"title":207,"published":249,"category":211,"tags":250,"draft":16,"minutes":251,"words":252,"excerpt":253},["Date","2020-07-12T09:47:28.000Z"],[210,70],3,520,"高考完这段时间点子大概比较多？既然学了两年的信息学奥赛写了两年 C++ ，却根本不会用 C++ 去做开发，这次正好想做的一个东西对性能要求比较高，就考虑用 C++ 来做，又因为原来一直用的 Java 导致我比较关注多平台的兼容，就想趁机学习一下 CMake 这类通用构建工具。这篇文章会列举一下我学到的 CMake 常用的命令，做一个小结。",[],"cmake-learning-01.md","how-to-setup-a-server--without-root-login",{"id":256,"data":258,"body":266,"filePath":267,"digest":268,"rendered":269,"legacyId":294},{"title":259,"published":260,"draft":16,"description":17,"image":17,"tags":261,"category":265,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"不使用 root 账户登陆服务器",["Date","2022-06-25T01:26:02.000Z"],[262,263,264],"Server","Maintenance","SSH","Note","之前服务器的时候遇到疑似 root 被爆破的情况，所幸最后查明是服务商流量计费出错了，而且使用 root 登陆服务器权限过大太过危险，容易发生 `rm -rf` 这种事故，所以这次建服的时候就考虑了一下这些事情，而且操作起来并不是很麻烦。\n\n#### 基本信息\n\n一般云服务提供商会提供 root 账户的密码，这里用 `[password]` 表示\n\u003C!-- more -->\n#### 新建用户\n\n首先使用 root 账户登录服务器\n\n```shell\nPS> ssh root@[server]\n```\n\n添加一个新的账户\n\n```shell\nroot> useradd [username] -m\n```\n\n#### 赋予该账户 sudo 权限\n\n编辑配置文件\n\n```shell\nroot> visudo\n```\n\n在 root 账户权限旁加入一行\n\n```shell\n[username] ALL=(ALL:ALL) ALL\n```\n\n#### 编辑SSH配置文件\n\n```shell\nroot> vim /etc/ssh/sshd_config\n```\n\n在文件中添加新的一行\n\n```shell\nAllowUsers [username1] [username2]\n```\n\n并修改 root 是否可以登录 ssh\n\n```shell\nPermitRootLogin no\n```\n\n!!! Warning 请确保以上编辑工作无误后继续\n\n保存文件后，运行\n\n```shell\nroot> service sshd restart\n```\n\n现在该服务器就不可以使用 root 账户登录 ssh 了，需要使用新的账户来登陆服务器。\n\n#### 使用SSHKey登录\n\n使用 ssh-copy-id 将 sshkey 公钥导入服务器，公钥储存在 ~/.ssh/authorized_keys\n\n```shell\nPS> ssh-copy-id [username]@[server]\n```","src/content/posts/how-to-setup-a-server- without-root-login.md","bad6090015333cf4",{"html":270,"metadata":271},"\u003Cp>之前服务器的时候遇到疑似 root 被爆破的情况，所幸最后查明是服务商流量计费出错了，而且使用 root 登陆服务器权限过大太过危险，容易发生 \u003Ccode>rm -rf\u003C/code> 这种事故，所以这次建服的时候就考虑了一下这些事情，而且操作起来并不是很麻烦。\u003C/p>\n\u003Csection>\u003Ch4 id=\"基本信息\">基本信息\u003Ca class=\"anchor\" href=\"#基本信息\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Cp>一般云服务提供商会提供 root 账户的密码，这里用 \u003Ccode>[password]\u003C/code> 表示\u003C/p>\u003C!-- more -->\u003C/section>\n\u003Csection>\u003Ch4 id=\"新建用户\">新建用户\u003Ca class=\"anchor\" href=\"#新建用户\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Cp>首先使用 root 账户登录服务器\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:21ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PS\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">root@[server]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>添加一个新的账户\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:27ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">root\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">useradd\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> [username] -m\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch4 id=\"赋予该账户-sudo-权限\">赋予该账户 sudo 权限\u003Ca class=\"anchor\" href=\"#赋予该账户-sudo-权限\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Cp>编辑配置文件\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:12ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">root\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">visudo\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>在 root 账户权限旁加入一行\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:28ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">[username] ALL\u003C/span>\u003Cspan style=\"--0:#F97583;--1:#F97583\">=\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ALL:ALL\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">) ALL\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch4 id=\"编辑ssh配置文件\">编辑SSH配置文件\u003Ca class=\"anchor\" href=\"#编辑ssh配置文件\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:30ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">root\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">vim\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">/etc/ssh/sshd_config\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>在文件中添加新的一行\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:34ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">AllowUsers\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> [username1] [username2]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>并修改 root 是否可以登录 ssh\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:18ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PermitRootLogin\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">no\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>!!! Warning 请确保以上编辑工作无误后继续\u003C/p>\u003Cp>保存文件后，运行\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:26ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">root\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">service\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">sshd\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">restart\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>现在该服务器就不可以使用 root 账户登录 ssh 了，需要使用新的账户来登陆服务器。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch4 id=\"使用sshkey登录\">使用SSHKey登录\u003Ca class=\"anchor\" href=\"#使用sshkey登录\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Cp>使用 ssh-copy-id 将 sshkey 公钥导入服务器，公钥储存在 ~/.ssh/authorized_keys\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"shell\" class=\"wrap\" style=\"--ecMaxLine:35ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">PS\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh-copy-id\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> [username]@[server]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>",{"headings":272,"localImagePaths":286,"remoteImagePaths":287,"frontmatter":288,"imagePaths":293},[273,274,277,280,283],{"depth":176,"slug":220,"text":221},{"depth":176,"slug":275,"text":276},"新建用户","新建用户#",{"depth":176,"slug":278,"text":279},"赋予该账户-sudo-权限","赋予该账户 sudo 权限#",{"depth":176,"slug":281,"text":282},"编辑ssh配置文件","编辑SSH配置文件#",{"depth":176,"slug":284,"text":285},"使用sshkey登录","使用SSHKey登录#",[],[],{"title":259,"published":289,"category":265,"tags":290,"draft":16,"minutes":59,"words":291,"excerpt":292},["Date","2022-06-25T01:26:02.000Z"],[262,263,264],304,"之前服务器的时候遇到疑似 root 被爆破的情况，所幸最后查明是服务商流量计费出错了，而且使用 root 登陆服务器权限过大太过危险，容易发生 rm -rf 这种事故，所以这次建服的时候就考虑了一下这些事情，而且操作起来并不是很麻烦。",[],"how-to-setup-a-server- without-root-login.md","programmatically-simulink-with-simscape",{"id":295,"data":297,"body":306,"filePath":307,"assetImports":308,"digest":310,"rendered":311,"legacyId":342},{"title":298,"published":299,"draft":16,"description":300,"image":17,"tags":301,"category":17,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"对含有 Simscape 的 Simulink 模型中进行程序控制",["Date","2023-10-15T10:15:28.000Z"],"使用 Matlab 程序对 Simulink 模型进行操作",[302,303,304,305,70],"Matlab","Simulink","Simscape","Modelling","> 本文基于 Matlab 2023b，Simulink 10.4，Simscape 5.3 编写。\n\n## 背景\n\n最近学校的一门课程，大作业的任务是通过线路牵引供电模型计算铁路区间上正在行驶的列车所处的位置，其中用到了 Simscape，Matlab 本身对 Simulink 的支持很到位，文档也给的很全，但是对于 Simscape 的部分还是踩了许多坑，这里记录一下，这部分主要集中在文章的后半段；模型本身其实比较简单，所以以下的举例也不是很复杂，主要针对已有模型。\n\n## 使用 Matlab 读取 Simulink 模型\n\nSimulink 中的功能大多都可以通过 Matlab 程序实现，可以查看 [Simulink - Programmatic Modeling Basics](https://ww2.mathworks.cn/help/simulink/ug/approach-modeling-programmatically.html) ，这里总结一下，对已有模型，在 .m 语言中有以下几个函数可以对模型进行一些文件操作：\n\n```matlab\n% 打开模型\n% 同时会打开 Simulink 的窗口，对比加载模型，同步性会更好\n% 也不容易遇到文件锁的问题，这个问题在使用这行代码打开后可以通过关闭 Simulink 窗口解决\nopen_system('model_name');\n\n% 加载模型\n% 只会加载模型，不会打开 Simulink 窗口\n% 但如果程序中间异常退出，没有进行到 close_system，会导致模型文件被锁定，无法再次打开，可能需要重启 Matlab\nload_system('model_name');\n\n% 保存模型\n% 保存模型的当前状态，包括参数设置等\n% 可以设置 ('OverwriteIfChangedOnDisk',true) 来响应文件系统变更\nsave_system('model_name');\n\n% 关闭模型\nclose_system('model_name');\n```\n\n## 使用 Matlab 编辑 Simulink 模型\n\n首先，在 Simulink 内部，模型的不同组件使用的是像 Linux 文件系统一样的路径来进行标识，例如：\n\n```matlab\n% 这里的 SubsystemName 和 BlockName 都是模块的名字（如下图模块的名字就是 AT1）\nblock_name = 'model_name/BlockName'\nblock_name1 = 'model_name/SubsystemName/BlockName'\nblock_name2 = 'model_name/SubsystemName/SubsystemName/BlockName'\n```\n\n![一个 Simulink 模块](simulink_block.png)\n\n### 关于 Simulink 模块\n\n可以使用以下几个命令读取或者设置模块的参数：\n\n```matlab\n% 获取模块参数\nget_param(block_name,'parameter_name')\n% 例如：获取模块句柄 (Handle)\n% 通过句柄可以对模块进行操作\nget_param('model_name/BlockName','Handle')\n\n% 设置模块参数\nset_param(block_name,'parameter_name','value')\n% 例如：设置模块位置\nset_param('model_name/BlockName','Position',[100,100,200,200])\n```\n\nMatlab 中提供了两个函数可以对模块进行增删：\n\n```matlab\n% 添加模块\nadd_block('block_type','model_name/BlockName')\n% 这个函数也可以用于模块的复制\nadd_block('model_name/Subsystem1/BlockName','model_name/Subsystem2/BlockName')\n% 例如：添加一个 Gain 模块\nadd_block('simulink/Commonly Used Blocks/Gain','model_name/BlockName')\n\n% 删除模块\ndelete_block('model_name/SubsystemName/BlockName')\n% 例如：删除一个 Gain 模块\ndelete_block('model_name/BlockName')\n```\n\n__Matlab 没有提供模块的移动（剪切）的函数__，这个可以通过以下方法实现（踩的坑之一）：\n\n```matlab\n% 复制模块\nadd_block('model_name/Subsystem1/BlockName','model_name/Subsystem2/BlockName')\n% 删除原模块\ndelete_block('model_name/Subsystem1/BlockName')\n```\n\n### 关于模块的连接\n\n对于 Simscape 模块，建议使用模块的端口句柄来建立连接线，例如：\n\n```matlab\n% 获取端口句柄(实际上是一个包含端口ID的列表)\nBlock_PortHandle = get_param('model_name/BlockName','PortHandles')\n```\n__注意__ 大部分 Simscape 电器模块的端口是双向的，所以 __不__ 需要指定端口的方向（即不能使用句柄中的`Inport`和`Outport`，而是使用`LConn`和`RConn`，这两个属性并不区分方向，只是指示端口在模块的左侧还是右侧），这和 Simulink 中的一般模块不同，但 Simscape 模块之间的连接线在程序索引时依然 __区分__ 方向，在这一小节结尾会讨论这件事\n\n模块的连接可以通过以下几个函数实现：\n\n```matlab\n% 添加连接线\nadd_line('model_name/Subsystem','BlockName1/Port','BlockName2/Port')\n% 使用句柄\nadd_line('model_name/Subsystem',Block1_PortHandle.PortName,Block2_PortHandle.PortName)\n% 例如：连接两个模块\nadd_line('model_name/Subsystem','Block1/LConn1','Block2/RConn4')\nadd_line('model_name/Subsystem',Block1_PortHandle.LConn(1),Block2_PortHandle.RConn(4))\n% 如果句柄中端口数量一样，可以进行批量连接\nadd_line('model_name/Subsystem',Block1_PortHandle.LConn,Block2_PortHandle.RConn)\n\n% 删除连接线\ndelete_line('model_name/Subsystem','BlockName1/PortName','BlockName2/PortName')\n% 例如：删除两个模块的连接\ndelete_line('model_name/Subsystem','Block1/LConn3','Block/RConn5')\n% 同理，可以使用句柄\ndelete_line('model_name/Subsystem',Block1_PortHandle.LConn(3),Block2_PortHandle.RConn(5))\n```\n\n这里也遇到了两个问题，首先，删除连接线时如果线路不存在，会报错，所以如果可能遇到重复删除的问题，建议套一个 `try catch`，例如：\n\n```matlab\ntry\n    delete_line('model_name/Subsystem',Block1_PortHandle.RConn(4),Block2_PortHandle.LConn(5))\ncatch\nend\n```\n\n其次，如果连接线的两端模块不在同一个子系统中，会报错，可能需要移动模块，实现参考上一小节。\n\n最后，关于 Simscape 模块间的连接线，虽然 Simscape 的电气端口不区分方向，但是其连接线仍像 Simulink 中的连接线一样区分方向，所以在进行删除操作时可能会遇到 __明明连接线存在，但是删除时报错的情况__ ，这大概率就是删除时端口的顺序反过来了，所以建议对每个连接线进行两次删除，因为一定会有一次冗余，所以这样操作一定要套上 `try catch` ，例如：\n\n```matlab\ntry\n    delete_line('model_name/Subsystem',Block1_PortHandle.RConn(4),Block2_PortHandle.LConn(5))\ncatch\nend\ntry\n    delete_line('model_name/Subsystem',Block2_PortHandle.LConn(5),Block1_PortHandle.RConn(4))\ncatch\nend\n```\n\n以上这种情况更有可能发生在已有的手动建立的模型中，手动建立的连接线非常可能起始于不同的模块，但在程序建立连接线时，如果保证在函数中输入的端口顺序都一致的话就不会出现这种问题。\n\n## 运行 Simulink 仿真\n\n运行模型就比较简单了，只需要调用 `sim` 函数：\n\n```matlab\n% 直接运行仿真，关于 sim 函数的更多参数请查看文档\n% https://ww2.mathworks.cn/help/simulink/slref/sim.html\nout = sim('model_name');\n\n% 或使用 set_param 方法调用 Simulink 的运行命令\nset_param('model_name','SimulationCommand','start');\n```\n\nrefs:\n\n[Simulink - Programmatic Modeling Basics](https://ww2.mathworks.cn/help/simulink/ug/approach-modeling-programmatically.html)","src/content/posts/programmatically-simulink-with-simscape/index.md",[309],"simulink_block.png","51b51c4eec498a8b",{"html":312,"metadata":313},"\u003Cblockquote>\n\u003Cp>本文基于 Matlab 2023b，Simulink 10.4，Simscape 5.3 编写。\u003C/p>\n\u003C/blockquote>\n\u003Csection>\u003Ch2 id=\"背景\">背景\u003Ca class=\"anchor\" href=\"#背景\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>最近学校的一门课程，大作业的任务是通过线路牵引供电模型计算铁路区间上正在行驶的列车所处的位置，其中用到了 Simscape，Matlab 本身对 Simulink 的支持很到位，文档也给的很全，但是对于 Simscape 的部分还是踩了许多坑，这里记录一下，这部分主要集中在文章的后半段；模型本身其实比较简单，所以以下的举例也不是很复杂，主要针对已有模型。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch2 id=\"使用-matlab-读取-simulink-模型\">使用 Matlab 读取 Simulink 模型\u003Ca class=\"anchor\" href=\"#使用-matlab-读取-simulink-模型\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>Simulink 中的功能大多都可以通过 Matlab 程序实现，可以查看 \u003Ca href=\"https://ww2.mathworks.cn/help/simulink/ug/approach-modeling-programmatically.html\">Simulink - Programmatic Modeling Basics\u003C/a> ，这里总结一下，对已有模型，在 .m 语言中有以下几个函数可以对模型进行一些文件操作：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:64ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 打开模型\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 同时会打开 Simulink 的窗口，对比加载模型，同步性会更好\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 也不容易遇到文件锁的问题，这个问题在使用这行代码打开后可以通过关闭 Simulink 窗口解决\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">open_system(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 加载模型\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 只会加载模型，不会打开 Simulink 窗口\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 但如果程序中间异常退出，没有进行到 close_system，会导致模型文件被锁定，无法再次打开，可能需要重启 Matlab\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">load_system(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">11\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 保存模型\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">12\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 保存模型的当前状态，包括参数设置等\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">13\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 可以设置 ('OverwriteIfChangedOnDisk',true) 来响应文件系统变更\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">14\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">save_system(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">15\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">16\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 关闭模型\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">17\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">close_system(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch2 id=\"使用-matlab-编辑-simulink-模型\">使用 Matlab 编辑 Simulink 模型\u003Ca class=\"anchor\" href=\"#使用-matlab-编辑-simulink-模型\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>首先，在 Simulink 内部，模型的不同组件使用的是像 Linux 文件系统一样的路径来进行标识，例如：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:64ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 这里的 SubsystemName 和 BlockName 都是模块的名字（如下图模块的名字就是 AT1）\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">block_name = \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">block_name1 = \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/SubsystemName/BlockName'\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">block_name2 = \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/SubsystemName/SubsystemName/BlockName'\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>\u003Cimg __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;simulink_block.png&#x22;,&#x22;alt&#x22;:&#x22;一个 Simulink 模块&#x22;,&#x22;index&#x22;:0}\">\u003C/p>\u003Csection>\u003Ch3 id=\"关于-simulink-模块\">关于 Simulink 模块\u003Ca class=\"anchor\" href=\"#关于-simulink-模块\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cp>可以使用以下几个命令读取或者设置模块的参数：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:62ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 获取模块参数\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">get_param(block_name,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'parameter_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：获取模块句柄 (Handle)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 通过句柄可以对模块进行操作\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">get_param(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Handle'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 设置模块参数\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">set_param(block_name,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'parameter_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'value'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：设置模块位置\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">set_param(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Position'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,[\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">100\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">100\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">200\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">200\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">])\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>Matlab 中提供了两个函数可以对模块进行增删：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:78ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 添加模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'block_type'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 这个函数也可以用于模块的复制\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem1/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem2/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：添加一个 Gain 模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'simulink/Commonly Used Blocks/Gain'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 删除模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/SubsystemName/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：删除一个 Gain 模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">11\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>\u003Cstrong>Matlab 没有提供模块的移动（剪切）的函数\u003C/strong>，这个可以通过以下方法实现（踩的坑之一）：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:78ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 复制模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem1/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem2/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 删除原模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_block(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem1/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\u003Csection>\u003Ch3 id=\"关于模块的连接\">关于模块的连接\u003Ca class=\"anchor\" href=\"#关于模块的连接\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cp>对于 Simscape 模块，建议使用模块的端口句柄来建立连接线，例如：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:66ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 获取端口句柄(实际上是一个包含端口ID的列表)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">Block_PortHandle = get_param(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/BlockName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'PortHandles'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>\u003Cstrong>注意\u003C/strong> 大部分 Simscape 电器模块的端口是双向的，所以 \u003Cstrong>不\u003C/strong> 需要指定端口的方向（即不能使用句柄中的\u003Ccode>Inport\u003C/code>和\u003Ccode>Outport\u003C/code>，而是使用\u003Ccode>LConn\u003C/code>和\u003Ccode>RConn\u003C/code>，这两个属性并不区分方向，只是指示端口在模块的左侧还是右侧），这和 Simulink 中的一般模块不同，但 Simscape 模块之间的连接线在程序索引时依然 \u003Cstrong>区分\u003C/strong> 方向，在这一小节结尾会讨论这件事\u003C/p>\u003Cp>模块的连接可以通过以下几个函数实现：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:89ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 添加连接线\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'BlockName1/Port'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'BlockName2/Port'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 使用句柄\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.PortName,Block2_PortHandle.PortName)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：连接两个模块\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Block1/LConn1'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Block2/RConn4'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.LConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">1\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">),Block2_PortHandle.RConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">4\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 如果句柄中端口数量一样，可以进行批量连接\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">9\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">add_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.LConn,Block2_PortHandle.RConn)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">10\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">11\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 删除连接线\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">12\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'BlockName1/PortName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'BlockName2/PortName'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">13\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 例如：删除两个模块的连接\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">14\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Block1/LConn3'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'Block/RConn5'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">15\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 同理，可以使用句柄\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">16\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.LConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">3\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">),Block2_PortHandle.RConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">5\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">))\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>这里也遇到了两个问题，首先，删除连接线时如果线路不存在，会报错，所以如果可能遇到重复删除的问题，建议套一个 \u003Ccode>try catch\u003C/code>，例如：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:93ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">try\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.RConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">4\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">),Block2_PortHandle.LConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">5\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">catch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">end\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>其次，如果连接线的两端模块不在同一个子系统中，会报错，可能需要移动模块，实现参考上一小节。\u003C/p>\u003Cp>最后，关于 Simscape 模块间的连接线，虽然 Simscape 的电气端口不区分方向，但是其连接线仍像 Simulink 中的连接线一样区分方向，所以在进行删除操作时可能会遇到 \u003Cstrong>明明连接线存在，但是删除时报错的情况\u003C/strong> ，这大概率就是删除时端口的顺序反过来了，所以建议对每个连接线进行两次删除，因为一定会有一次冗余，所以这样操作一定要套上 \u003Ccode>try catch\u003C/code> ，例如：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:93ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">try\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block1_PortHandle.RConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">4\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">),Block2_PortHandle.LConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">5\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">catch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">end\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">try\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:4ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">delete_line(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name/Subsystem'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,Block2_PortHandle.LConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">5\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">),Block1_PortHandle.RConn(\u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">4\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">7\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">catch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">8\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#F97583;--1:#F97583\">end\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>以上这种情况更有可能发生在已有的手动建立的模型中，手动建立的连接线非常可能起始于不同的模块，但在程序建立连接线时，如果保证在函数中输入的端口顺序都一致的话就不会出现这种问题。\u003C/p>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch2 id=\"运行-simulink-仿真\">运行 Simulink 仿真\u003Ca class=\"anchor\" href=\"#运行-simulink-仿真\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>运行模型就比较简单了，只需要调用 \u003Ccode>sim\u003C/code> 函数：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"matlab\" class=\"wrap\" style=\"--ecMaxLine:55ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 直接运行仿真，关于 sim 函数的更多参数请查看文档\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% https://ww2.mathworks.cn/help/simulink/slref/sim.html\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">out = sim(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">4\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">5\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#99A0A6;--1:#99A0A6\">% 或使用 set_param 方法调用 Simulink 的运行命令\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">6\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">set_param(\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'model_name'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'SimulationCommand'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">,\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">'start'\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\">);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>refs:\u003C/p>\u003Cp>\u003Ca href=\"https://ww2.mathworks.cn/help/simulink/ug/approach-modeling-programmatically.html\">Simulink - Programmatic Modeling Basics\u003C/a>\u003C/p>\u003C/section>",{"headings":314,"localImagePaths":333,"remoteImagePaths":334,"frontmatter":335,"imagePaths":341},[315,318,321,324,327,330],{"depth":59,"slug":316,"text":317},"背景","背景#",{"depth":59,"slug":319,"text":320},"使用-matlab-读取-simulink-模型","使用 Matlab 读取 Simulink 模型#",{"depth":59,"slug":322,"text":323},"使用-matlab-编辑-simulink-模型","使用 Matlab 编辑 Simulink 模型#",{"depth":251,"slug":325,"text":326},"关于-simulink-模块","关于 Simulink 模块#",{"depth":251,"slug":328,"text":329},"关于模块的连接","关于模块的连接#",{"depth":59,"slug":331,"text":332},"运行-simulink-仿真","运行 Simulink 仿真#",[309],[],{"title":298,"published":336,"description":300,"categories":211,"tags":337,"draft":16,"minutes":338,"words":339,"excerpt":340},["Date","2023-10-15T10:15:28.000Z"],[302,303,304,305,70],7,1307,"最近学校的一门课程，大作业的任务是通过线路牵引供电模型计算铁路区间上正在行驶的列车所处的位置，其中用到了 Simscape，Matlab 本身对 Simulink 的支持很到位，文档也给的很全，但是对于 Simscape 的部分还是踩了许多坑，这里记录一下，这部分主要集中在文章的后半段；模型本身其实比较简单，所以以下的举例也不是很复杂，主要针对已有模型。",[309],"programmatically-simulink-with-simscape/index.md","access-github-use-ssh",{"id":343,"data":345,"body":352,"filePath":353,"digest":354,"rendered":355,"legacyId":382},{"title":346,"published":347,"draft":16,"description":17,"image":17,"tags":348,"category":97,"lang":17,"prevTitle":17,"prevSlug":17,"nextTitle":17,"nextSlug":17},"使用 ssh 访问 Github （从创建密钥到 clone 仓库）",["Date","2023-05-22T02:12:28.000Z"],[349,350,351],"git","Github","ssh","最近在打编译器设计赛，帮队友配置 git 的时候发现配置 ssh 的部分每次要看好几篇文章，现在用这一篇文章就可以在一台新的 Linux 系统上快速使用 ssh 访问 Github 进行开发。\n\n## 创建 ssh 密钥\n\n```sh\n$ ssh-keygen -t ed25519 -C \"your_email@example.com\"\n```\n\n如果不支持 ed25519，可以使用：\n\n```sh\n$ ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"\n```\n\n中间会需要选择密钥的创建位置等：\n\n```text\n> Enter a file in which to save the key (/c/Users/YOU/.ssh/id_ALGORITHM):[Press enter]\n```\n\n密钥默认生成在 `~/.ssh/id_ALGORITHM`,\n\n`ALGORITHM` 即上面创建密钥时使用的算法\n\n`~/.ssh/id_ALGORITHM.pub` 为公钥文件;\n\n`~/.ssh/id_ALGORITHM` 为私钥文件;\n\n## 添加 ssh 公钥到 GitHub\n\n执行\n\n```sh\n$ cat ~/.ssh/id_ALGORITHM.pub\n```\n\n复制输出的公钥\n\n在 [Github User Setting -> SSH and GPG keys](https://github.com/settings/keys) 页面添加 ssh 公钥。\n\n## 启用 ssh agent\n\n```sh\n$ eval \"$(ssh-agent -s)\"\n```\n\n然后将我们的密钥交给 ssh-agent 管理\n\n```sh\n$ ssh-add ~/.ssh/id_ALGORITHM\n```\n\n在 `~/.ssh/` 目录下新建一个 config 文件\n\n```sh\n$ touch ~/.ssh/config\n```\n\n编辑加入以下内容：\n\n```\nHOST github.com\n User git\n ForwardAgent yes\n```\n\n## 测试\n\n现在已经配置好了 ssh 可以用以下命令进行测试：\n\n使用这个命令检查密钥是否被加入 ssh-agent\n\n```sh\n$ ssh-add -L\n```\n\n使用这个命令检查是否已经可以使用 ssh 访问 Github:\n\n```sh\n$ ssh -T git@github.com\n```\n\n如果以上命令返回了 success ，那么已经可以使用 ssh 访问 Github了！\n\n## Clone 仓库\n\n接着我们就能用下面的命令 clone 仓库了。\n\n```sh\n$ git clone \u003Curl>\n```\n\nrefs：\n\n[生成新的 SSH 密钥并将其添加到 ssh-agent](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)\n\n[使用 SSH 代理转发](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/using-ssh-agent-forwarding)","src/content/posts/access-github-use-ssh.md","aa062447f3fe5135",{"html":356,"metadata":357},"\u003Cp>最近在打编译器设计赛，帮队友配置 git 的时候发现配置 ssh 的部分每次要看好几篇文章，现在用这一篇文章就可以在一台新的 Linux 系统上快速使用 ssh 访问 Github 进行开发。\u003C/p>\n\u003Csection>\u003Ch2 id=\"创建-ssh-密钥\">创建 ssh 密钥\u003Ca class=\"anchor\" href=\"#创建-ssh-密钥\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.4fsv9.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.g1fg5.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:51ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh-keygen\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-t\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ed25519\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-C\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">\"your_email@example.com\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>如果不支持 ed25519，可以使用：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:55ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh-keygen\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-t\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">rsa\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-b\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">4096\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-C\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">\"your_email@example.com\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>中间会需要选择密钥的创建位置等：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\" class=\"wrap\" style=\"--ecMaxLine:86ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">> Enter a file in which to save the key (/c/Users/YOU/.ssh/id_ALGORITHM):[Press enter]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>密钥默认生成在 \u003Ccode>~/.ssh/id_ALGORITHM\u003C/code>,\u003C/p>\u003Cp>\u003Ccode>ALGORITHM\u003C/code> 即上面创建密钥时使用的算法\u003C/p>\u003Cp>\u003Ccode>~/.ssh/id_ALGORITHM.pub\u003C/code> 为公钥文件;\u003C/p>\u003Cp>\u003Ccode>~/.ssh/id_ALGORITHM\u003C/code> 为私钥文件;\u003C/p>\u003C/section>\n\u003Csection>\u003Ch2 id=\"添加-ssh-公钥到-github\">添加 ssh 公钥到 GitHub\u003Ca class=\"anchor\" href=\"#添加-ssh-公钥到-github\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>执行\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:29ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">cat\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">~/.ssh/id_ALGORITHM.pub\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>复制输出的公钥\u003C/p>\u003Cp>在 \u003Ca href=\"https://github.com/settings/keys\">Github User Setting -> SSH and GPG keys\u003C/a> 页面添加 ssh 公钥。\u003C/p>\u003C/section>\n\u003Csection>\u003Ch2 id=\"启用-ssh-agent\">启用 ssh agent\u003Ca class=\"anchor\" href=\"#启用-ssh-agent\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:24ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">eval\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">\"$(\u003C/span>\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">ssh-agent\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-s\u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">)\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>然后将我们的密钥交给 ssh-agent 管理\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:29ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh-add\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">~/.ssh/id_ALGORITHM\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>在 \u003Ccode>~/.ssh/\u003C/code> 目录下新建一个 config 文件\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:21ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">touch\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">~/.ssh/config\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>编辑加入以下内容：\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\" class=\"wrap\" style=\"--ecMaxLine:17ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">HOST github.com\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:1ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">2\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">User git\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\" style=\"--ecIndent:1ch\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">3\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#e1e4e8;--1:#e1e4e8\">ForwardAgent yes\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003C/section>\n\u003Csection>\u003Ch2 id=\"测试\">测试\u003Ca class=\"anchor\" href=\"#测试\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>现在已经配置好了 ssh 可以用以下命令进行测试：\u003C/p>\u003Cp>使用这个命令检查密钥是否被加入 ssh-agent\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:12ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh-add\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-L\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>使用这个命令检查是否已经可以使用 ssh 访问 Github:\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:23ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">ssh\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#79B8FF;--1:#79B8FF\">-T\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">git@github.com\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>如果以上命令返回了 success ，那么已经可以使用 ssh 访问 Github了！\u003C/p>\u003C/section>\n\u003Csection>\u003Ch2 id=\"clone-仓库\">Clone 仓库\u003Ca class=\"anchor\" href=\"#clone-仓库\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>接着我们就能用下面的命令 clone 仓库了。\u003C/p>\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"sh\" class=\"wrap\" style=\"--ecMaxLine:17ch\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"gutter\">\u003Cdiv class=\"ln\" aria-hidden=\"true\">1\u003C/div>\u003C/div>\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#B392F0;--1:#B392F0\">$\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">git\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">clone\u003C/span>\u003Cspan style=\"--0:#E1E4E8;--1:#E1E4E8\"> \u003C/span>\u003Cspan style=\"--0:#9ECBFF;--1:#9ECBFF\">&#x3C;url>\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003Cbutton class=\"copy-btn\" aria-label=\"Copy code\">\u003Cdiv class=\"copy-btn-icon\">\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon copy-icon\">\u003Cpath d=\"M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z\">\u003C/path>\u003C/svg>\u003Csvg viewBox=\"0 -960 960 960\" xmlns=\"http://www.w3.org/2000/svg\" class=\"copy-btn-icon success-icon\">\u003Cpath d=\"m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z\">\u003C/path>\u003C/svg>\u003C/div>\u003C/button>\u003C/pre>\u003C/figure>\u003C/div>\u003Cp>refs：\u003C/p>\u003Cp>\u003Ca href=\"https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent\">生成新的 SSH 密钥并将其添加到 ssh-agent\u003C/a>\u003C/p>\u003Cp>\u003Ca href=\"https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/using-ssh-agent-forwarding\">使用 SSH 代理转发\u003C/a>\u003C/p>\u003C/section>",{"headings":358,"localImagePaths":374,"remoteImagePaths":375,"frontmatter":376,"imagePaths":381},[359,362,365,368,371],{"depth":59,"slug":360,"text":361},"创建-ssh-密钥","创建 ssh 密钥#",{"depth":59,"slug":363,"text":364},"添加-ssh-公钥到-github","添加 ssh 公钥到 GitHub#",{"depth":59,"slug":366,"text":367},"启用-ssh-agent","启用 ssh agent#",{"depth":59,"slug":369,"text":370},"测试","测试#",{"depth":59,"slug":372,"text":373},"clone-仓库","Clone 仓库#",[],[],{"title":346,"published":377,"category":97,"tags":378,"draft":16,"minutes":59,"words":379,"excerpt":380},["Date","2023-05-22T02:12:28.000Z"],[349,350,351],368,"最近在打编译器设计赛，帮队友配置 git 的时候发现配置 ssh 的部分每次要看好几篇文章，现在用这一篇文章就可以在一台新的 Linux 系统上快速使用 ssh 访问 Github 进行开发。",[],"access-github-use-ssh.md","spec",["Map",385,386],"about",{"id":385,"data":387,"body":388,"filePath":389,"digest":390,"rendered":391,"legacyId":404},{},"# Yahello!\n\nI'm npofsi /pos/.\n\nLove CoCo!\n\nTrying to be an electronics engineer.\n\n::github{repo=\"npofsi/blog\"}\n\n\u003C!-- > ### Sources of images used in this site\n> - [Unsplash](https://unsplash.com/)\n> - [星と少女](https://www.pixiv.net/artworks/108916539) by [Stella](https://www.pixiv.net/users/93273965)\n> - [Rabbit - v1.4 Showcase](https://civitai.com/posts/586908) by [Rabbit_YourMajesty](https://civitai.com/user/Rabbit_YourMajesty) -->","src/content/spec/about.md","24dcbe30db721c24",{"html":392,"metadata":393},"\u003Csection>\u003Ch1 id=\"yahello\">Yahello!\u003Ca class=\"anchor\" href=\"#yahello\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cp>I’m npofsi /pos/.\u003C/p>\u003Cp>Love CoCo!\u003C/p>\u003Cp>Trying to be an electronics engineer.\u003C/p>\u003Ca id=\"GC812vbp-card\" class=\"card-github fetch-waiting no-styling\" href=\"https://github.com/npofsi/blog\" target=\"_blank\" repo=\"npofsi/blog\">\u003Cdiv class=\"gc-titlebar\">\u003Cdiv class=\"gc-titlebar-left\">\u003Cdiv class=\"gc-owner\">\u003Cdiv id=\"GC812vbp-avatar\" class=\"gc-avatar\">\u003C/div>\u003Cdiv class=\"gc-user\">npofsi\u003C/div>\u003C/div>\u003Cdiv class=\"gc-divider\">/\u003C/div>\u003Cdiv class=\"gc-repo\">blog\u003C/div>\u003C/div>\u003Cdiv class=\"github-logo\">\u003C/div>\u003C/div>\u003Cdiv id=\"GC812vbp-description\" class=\"gc-description\">Waiting for api.github.com...\u003C/div>\u003Cdiv class=\"gc-infobar\">\u003Cdiv id=\"GC812vbp-stars\" class=\"gc-stars\">00K\u003C/div>\u003Cdiv id=\"GC812vbp-forks\" class=\"gc-forks\">0K\u003C/div>\u003Cdiv id=\"GC812vbp-license\" class=\"gc-license\">0K\u003C/div>\u003Cspan id=\"GC812vbp-language\" class=\"gc-language\">Waiting...\u003C/span>\u003C/div>\u003Cscript id=\"GC812vbp-script\" type=\"text/javascript\" defer>\n      fetch('https://api.github.com/repos/npofsi/blog', { referrerPolicy: \"no-referrer\" }).then(response => response.json()).then(data => {\n        document.getElementById('GC812vbp-description').innerText = data.description?.replace(/:[a-zA-Z0-9_]+:/g, '') || \"Description not set\";\n        document.getElementById('GC812vbp-language').innerText = data.language;\n        document.getElementById('GC812vbp-forks').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.forks).replaceAll(\" \", '');\n        document.getElementById('GC812vbp-stars').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.stargazers_count).replaceAll(\" \", '');\n        const avatarEl = document.getElementById('GC812vbp-avatar');\n        avatarEl.style.backgroundImage = 'url(' + data.owner.avatar_url + ')';\n        avatarEl.style.backgroundColor = 'transparent';\n        document.getElementById('GC812vbp-license').innerText = data.license?.spdx_id || \"no-license\";\n        document.getElementById('GC812vbp-card').classList.remove(\"fetch-waiting\");\n        console.log(\"[GITHUB-CARD] Loaded card for npofsi/blog | GC812vbp.\")\n      }).catch(err => {\n        const c = document.getElementById('GC812vbp-card');\n        c?.classList.add(\"fetch-error\");\n        console.warn(\"[GITHUB-CARD] (Error) Loading card for npofsi/blog | GC812vbp.\")\n      })\n    \u003C/script>\u003C/a>\u003C!-- > ### Sources of images used in this site\n> - [Unsplash](https://unsplash.com/)\n> - [星と少女](https://www.pixiv.net/artworks/108916539) by [Stella](https://www.pixiv.net/users/93273965)\n> - [Rabbit - v1.4 Showcase](https://civitai.com/posts/586908) by [Rabbit_YourMajesty](https://civitai.com/user/Rabbit_YourMajesty) -->\u003C/section>",{"headings":394,"localImagePaths":398,"remoteImagePaths":399,"frontmatter":400,"imagePaths":403},[395],{"depth":34,"slug":396,"text":397},"yahello","Yahello!#",[],[],{"minutes":34,"words":401,"excerpt":402},40,"I’m npofsi /pos/.",[],"about.md"]